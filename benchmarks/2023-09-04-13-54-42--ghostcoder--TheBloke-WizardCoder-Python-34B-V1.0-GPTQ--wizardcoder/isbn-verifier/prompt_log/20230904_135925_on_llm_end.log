method: on_llm_end [2023-09-04 13:59:25]
llm_output: null
prompt:
import re

def is_valid(isbn):
    # Remove all non-digit characters except 'X' and convert to uppercase
    cleaned_isbn = re.sub('[^0-9X]', '', isbn).upper()
    
    if len(cleaned_isbn) != 10:
        return False
    
    total = sum((i + 1) * int(x) for i, x in enumerate(cleaned_isbn[:-1]))
    checksum = 11 - (total % 11)
    
    if checksum == 10:
        check_char = 'X'
    elif checksum == 11:
        check_char = '0'
    else:
        check_char = str(checksum)
        
    return cleaned_isbn[-1] == check_char


---
